<!DOCTYPE html><html lang="en" ><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/default.min.css"><meta name="generator" content="Jekyll v4.3.3" /><meta property="og:title" content="UIPageViewController: Customizing Page Indicators" /><meta property="og:locale" content="en_US" /><meta name="description" content="customize page indicator in UIPageViewController" /><meta property="og:description" content="customize page indicator in UIPageViewController" /><link rel="canonical" href="http://localhost:4000/2019/12/20/customized-page-indicators-for-uipageviewcontroller" /><meta property="og:url" content="http://localhost:4000/2019/12/20/customized-page-indicators-for-uipageviewcontroller" /><meta property="og:site_name" content="Sidey" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2019-12-20T00:00:00-05:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="UIPageViewController: Customizing Page Indicators" /><meta name="twitter:site" content="@" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2019-12-20T00:00:00-05:00","datePublished":"2019-12-20T00:00:00-05:00","description":"customize page indicator in UIPageViewController","headline":"UIPageViewController: Customizing Page Indicators","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2019/12/20/customized-page-indicators-for-uipageviewcontroller"},"url":"http://localhost:4000/2019/12/20/customized-page-indicators-for-uipageviewcontroller"}</script><title> UIPageViewController: Customizing Page Indicators - Sidey</title><link rel="shortcut icon" href="/favicon.png"><link rel="alternate" type="application/atom+xml" title="Sidey" href="/atom.xml"><link rel="alternate" type="application/json" title="Sidey" href="http://localhost:4000/feed.json" /><link rel="sitemap" type="application/xml" title="sitemap" href="/sitemap.xml" /><style> *,:after,:before{box-sizing:border-box;background-color:inherit;color:inherit;margin:0;padding:0}body{font-family:system-ui,sans-serif;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;line-height:1.5;font-size:var(--base-font-size);background-color:var(--background-color);color:var(--text-color)}main{display:flex;flex-wrap:wrap;max-width:60rem;margin:2rem auto;padding:1rem}nav ul{border-right:1px solid #edf2f7}a{color:var(--link-color);text-decoration-skip-ink:auto;text-decoration:underline}a:hover{color:var(--link-hover-color);text-decoration:none}a:active{color:var(--link-hover-color);text-decoration:underline}pre{tab-size:2;word-wrap:break-word;page-break-inside:avoid;padding:.5rem;overflow-x:auto;border:1px solid #ccc;box-shadow:1px 1px 5px rgba(0,0,0,.1);background-color:var(--code-block-bg-color)}code,pre{font-family:"Fira Code","Consolas",monospace}code.language-plaintext{font-style:italic;color:var(--plaintext-color);background:var(--plaintext-bg);font-size:calc(.875*var(--base-font-size))}pre code{border:none;display:block;background:none;white-space:pre;-webkit-overflow-scrolling:touch;overflow-x:scroll;max-width:100%;min-width:100px;padding:0}.meta{margin:2rem 0}img{max-width:100%}hr{background:#000;height:1px;border:0}header{flex-basis:10rem;flex-grow:1;position:relative}header a{text-decoration:none}header li{margin-bottom:.2rem;text-align:right;margin-right:2rem}header a.active{font-weight:bold}header,section{padding:1rem}blockquote{font-style:italic;border-left:10px solid #ccc;margin:1.5em 10px;padding:.5em 10px;quotes:"“" "”" "‘" "’";word-wrap:break-all}strong,b{font-weight:bold}.photos ul{list-style:none}.photos li{margin-bottom:1.5rem}.photo picture,.project picture{margin-bottom:.5rem}.posts ul,header ul{list-style:none}.posts li{align-items:center;display:flex;justify-content:space-between;margin-bottom:.5rem}.posts li a,.posts li div,.projects li a{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-decoration:none}.posts li time,.projects li time{padding-left:1rem;white-space:nowrap;font-variant-numeric:tabular-nums}@media screen and (max-width: 45rem){header li{display:inline;margin-right:1rem}.logo{padding-bottom:1rem}header ul{border-bottom:1px solid #edf2f7;padding-bottom:2rem}nav ul{border-right:0px}.photos ul{margin-top:.5rem}}figcaption{font-size:smaller}@media print{.no-print,.no-print *{display:none !important}}:root{--base-font-size: 14px;--background-color: #fff;--text-color: rgb(22, 23, 26);--link-color: #000;--link-hover-color: lightsteelblue;--border-color: #edf2f7;--code-block-bg-color: rgb(248, 248, 248);--plaintext-bg: #ffeff0;--plaintext-color: crimson}@media(prefers-color-scheme: dark){:root{--background-color: #333;--text-color: #fff;--link-color: #ddd;--link-hover-color: #5f9ea0;--border-color: #555;--code-block-bg-color: #444;--plaintext-bg: #442b2d;--plaintext-color: #ffb3b3}}h1{font-size:calc(2.25*var(--base-font-size))}h2{font-size:calc(2*var(--base-font-size))}h3{font-size:calc(1.75*var(--base-font-size))}h4{font-size:calc(1.5*var(--base-font-size))}h5{font-size:calc(1.25*var(--base-font-size))}h6{font-size:calc(1.125*var(--base-font-size))}h1,h2,h3,h4,h5{line-height:1;margin:1rem 0;font-weight:600}p,li,a,span,div{font-size:var(--base-font-size)}section.post{flex-basis:0;flex-grow:999;min-width:70%;display:flex;flex-direction:column}section.post h1:first-child{margin-top:0}section.post h1:first-child+p{margin-top:0}section.post p{display:block;margin-top:12px}section.post code.language-plaintext{background-color:#d3d3d3;color:#8b4513}section.post h2,section.post h3,section.post h4,section.post h5,section.post h6{margin:2rem 0 0}section.post h2+p,section.post h3+p,section.post h4+p,section.post h5+p,section.post h6+p{margin-top:5px}section.post ul,section.post ol{list-style:none;margin-top:12px;list-style-position:inside;counter-reset:item}section.post ul li,section.post ol li{position:relative;margin-bottom:24px;counter-increment:item}section.post ul li::before,section.post ol li::before{content:counter(item) ". ";position:absolute;left:0;top:0}section.post ul li p,section.post ol li p{margin-left:22px;margin-top:12px}section.post ul li p:first-child,section.post ol li p:first-child{margin-top:0}section.post ul li p:first-child+p,section.post ol li p:first-child+p{margin-top:0}section.post ul li p:not(:first-child):not(:nth-child(2)),section.post ol li p:not(:first-child):not(:nth-child(2)){margin-top:12px}section.post ul li div.language-swift.highlighter-rouge,section.post ol li div.language-swift.highlighter-rouge{margin-left:22px}section.post ul li pre,section.post ol li pre{margin:0}section.post ul li details,section.post ol li details{margin-left:30px}section.post ul li details summary,section.post ol li details summary{margin-left:0px}section.post ul ul,section.post ol ul{counter-reset:none;list-style:circle;margin-left:20px;margin-top:5px}section.post ul ul li,section.post ol ul li{counter-increment:none;position:static;margin-left:24px;margin-bottom:0}section.post ul ul li::before,section.post ol ul li::before{content:none}section.post ul ul li:last-child,section.post ol ul li:last-child{margin-bottom:24px}section.post nav ol,section.post nav ul{counter-reset:none}section.post nav ol li,section.post nav ul li{counter-increment:none}section.post nav ol li::before,section.post nav ul li::before{content:none}section.post ul.nested{counter-reset:none;list-style:circle;margin-left:20px;margin-top:5px}section.post ul.nested li{counter-increment:none;position:static;margin-left:24px;margin-bottom:0}section.post ul.nested li::before{content:none}section.post ul.nested li:last-child{margin-bottom:24px}</style></head><body><main><header aria-hidden="true" class="no-print"> <!--<h1 class="logo">Sidey</h1>--><nav role="navigation" aria-hidden="true"><ul><li><a href="/" >Writing</a></li><li><a href="/about" >About</a></li><li><a href="/search" >Search</a></li><li><a href="/atom.xml" >Rss</a></li></ul></nav></header><section class="post"><h1>UIPageViewController: Customizing Page Indicators</h1><p>Having not worked on an iOS project in a long while, I was stumped recently when I had to customize the page indicator for an onboarding screen.</p><p>I tend to build my views programatically but documentation for UIPageViewController does not provide information on how to programatically access the default page indication built into UIPageViewController. My guess, after trying different methods on my instance of UIPageViewController and having my google-fu fail me, is that there isn’t a way to programatically access the default page indicator.</p><p>The solution I implemented relies on both <code class="language-plaintext highlighter-rouge">presentationCount</code> and <code class="language-plaintext highlighter-rouge">presentationIndex</code>. According to Apple’s documentation a page indicator is visible under these conditions only: - if both <code class="language-plaintext highlighter-rouge">presentationCount</code> and <code class="language-plaintext highlighter-rouge">presentationIndex</code> are implemented - if the transitionStyle is scroll - and if the navigation orientation is horizontal.</p><p>As of iOS 16, the minimal code to accomplish this:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import UIKit

class OnboardingViewController: UIViewController {

  private var currentIndex: Int = 0
  private var pageController: UIPageViewController?

  override func viewDidLoad() {
    super.viewDidLoad()
    self.setupPageController()
  }

  private func setupPageController() {
    self.pageController = UIPageViewController(
      transitionStyle: .scroll, navigationOrientation: .horizontal)
    self.pageController?.delegate = self
    self.pageController?.dataSource = self
    self.pageController?.view.backgroundColor = .systemRed
  }

  private func customizePageIndicator() {
    let appearance = UIPageControl.appearance()
    appearance.pageIndicatorTintColor = .systemGray
    appearance.currentPageIndicatorTintColor = .white
    appearance.backgroundColor = .systemRed
  }

  func presentationCount(for pageViewController: UIPageViewController) -&gt; Int {
    self.customizePageIndicator()
    return self.onboardingContent.count
  }

  func presentationIndex(for pageViewController: UIPageViewController) -&gt; Int {
    return self.currentIndex
  }
}

extension OnboardingViewController: UIPageViewControllerDataSource {

  func pageViewController(
    _ pageViewController: UIPageViewController, viewControllerAfter viewController: UIViewController
  ) -&gt; UIViewController? {
    // implement logic that displays next vc when user swipes to next screen
  }

  func pageViewController(
    _ pageViewController: UIPageViewController,
    viewControllerBefore viewController: UIViewController
  ) -&gt; UIViewController? {
    //implement logic that displays previous viewController
    // basically what to display when user swips back to previous screen
  }
}     
</code></pre></div></div><p><strong>note</strong>: I am using the regular ViewController as the container of the PageViewController; you don’t have to do it this way.</p><p>It feels counter-intutive to implement a new UIPageControl instead of using what is baked into the UIPageViewController; will have to investigate when time permits.</p><span class="meta"><time datetime="2019-12-20T00:00:00-05:00">December 20, 2019</time> &middot; <a href="/tag/swift">swift</a>, <a href="/tag/uikit">uikit</a></span></section></main><script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/swift.min.js"></script> <script>hljs.highlightAll();</script></body></html>
